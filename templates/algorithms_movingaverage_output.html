{% extends "layout_algorithms_output.html" %}

{% block formulario %}
<h4 class="mb-3">Resultados</h4>

<div>
  <h5>Parâmetros de entrada</h5>
  <table class="table table-striped table-bordered table-sm">
    <tbody>
      <tr class="d-flex">
        <th class="col-3" scope="row">{{ form.window.label }}</th>
        <td class="col-9">{{ window }}</td>
      </tr>
    </tbody>
  </table>
</div>

<div>
  <h5>Gráfico</h5>
  <img src="{{ image }}" class="img-fluid img-rounded mx-auto d-block" alt="Gráfico Média Móvel">
</div>

<h5>Tabelas</h5>
<div class="row">
  <div class="col-md-12">
    <table class="table table-striped table-bordered table-sm">
      <thead>
        <tr class="d-flex">
          <th class="col-3">Data</th>
          <th class="col-9">Média Móvel</th>
        </tr>
      </thead>
      <tbody>
        {% for i in range(10) %}
        <tr class="d-flex">
          <td class="col-3">{{ (raw_data[i]|string)[:9] }}</td>
          <td class="col-9">{{ data_ma[i]|round(5) }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

<h5>Download de Resultados</h5>
<div class="container">
	<div class="row" style="margin-top:20px">
		<div class="col-md-6">
				<div class="card text-center" style="height:200px">
					<div class="card-header" style="font-size:14px">
						<b>Relatório (pdf)</b>
					</div>
					<div class="card-body" style="padding:10px">
								<p class="card-text" style="font-size:13px; height:70px">
                  Relatório de resultados, em formato .pdf contendo detalhes sobre a parâmetros e dados de entrada, qualidade dos dados e dados processados.
                </p>
						<a href = "/algorithms/{{ address_pdf }}" class="btn btn-primary">DOWNLOAD</a>
					</div>
				</div>
			</div>
      <div class="col-md-6">
  				<div class="card text-center" style="height:200px">
  					<div class="card-header" style="font-size:14px">
  						<b>Dados Processados (csv)</b>
  					</div>
  					<div class="card-body" style="padding:10px">
  								<p class="card-text" style="font-size:13px; height:70px">
                    Arquivo em formato .csv contendo dados processados resultantes da aplicação do modelo.
                  </p>
  						<p><a href = "/algorithms/{{ address_csv }}" class="btn btn-primary">DOWNLOAD</a></p>
  					</div>
  				</div>
  			</div>
	</div>
</div>

{% endblock formulario %}
